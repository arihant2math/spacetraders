<nav class="navbar navbar-expand-lg bg-primary" data-bs-theme="dark">
    <div class="container-fluid">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a id="home" class="nav-link" href="/"><i class="bi bi-house-fill"></i> Home</a>
            </li>
            <li class="nav-item">
                <a id="contracts" class="nav-link" href="/contracts/"><i class="bi bi-file-earmark-text-fill"></i> Contracts</a>
            </li>
            <li class="nav-item">
                <a id="ships" class="nav-link" href="/ships/"><i class="bi bi-rocket-takeoff-fill"></i> Ships</a>
            </li>
            <li class="nav-item">
                <a id="systems" class="nav-link" href="/systems/"><i class="bi bi-stars"></i> Systems</a>
            </li>
            <li class="nav-item">
                <a id="factions" class="nav-link" href="/factions/"><i class="bi bi-building-fill"></i> Factions</a>
            </li>
            <li class="nav-item">
                <a id="map" class="nav-link" href="/map/"><i class="bi bi-map-fill"></i> Map</a>
            </li>
            <li class="nav-item">
                <a id="automations" class="nav-link" href="/automations/"><i class="bi bi-filetype-yml"></i> Automations</a>
            </li>
        </ul>
        <ul class="navbar-nav d-flex">
            <li class="d-flex nav-item" style="float: right">
                <form role="search" class="d-flex">
                    <div class="input-group">
                        <input class="form-control" type="search" placeholder="Search" id="search-box" aria-label="Search" value="">
                        <button class="btn btn-success" onclick="search()" id="searchbutton" type="button"><i class="bi bi-search"></i></button>
                    </div>
                </form>
                <a id="settings" class="nav-link" href="/settings/"><i class="bi bi-gear-fill"></i> Settings</a>
            </li>
        </ul>
    </div>
</nav>
<ul class="list-group position-absolute top-5 end-0" id="search-suggestions">
    <li class="list-group-item list-group-item-action" onclick="search_filter('system')">Search Systems</li>
    <li class="list-group-item list-group-item-action" onclick="search_filter('waypoint')">Search Waypoints</li>
    <li class="list-group-item list-group-item-action" onclick="search_filter('ship')">Search Ships</li>
</ul>
<script>
    $("#search-suggestions").hide()
    $('#search-box').keypress(function(event) {
        if (event.keyCode === 13 || event.which === 13) {
            search();
            event.preventDefault();
        }
        else {
            if ($("#search-box").val().length > 0) {
                $("#search-suggestions").show()
            }
            else {
                $("#search-suggestions").hide()
            }
        }
    });
    function search() {
        this.window.location.href = "/search?query=" + encodeURIComponent($("#search-box").val());
    }

    function search_filter(type) {
        this.window.location.href = "/search?query=" + encodeURIComponent($("#search-box").val() + " is: " + type);
    }
</script>